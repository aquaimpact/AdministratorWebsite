(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e,t,a){e.exports=a(397)},195:function(e,t,a){},397:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(13),s=a.n(c),o=a(403),r=(a(193),a(195),a(90)),i=a(91),m=a(101),d=a(92),u=a(102),h=a(19),p=a(133),E=a(11),g=a(186),v=a(2),b=a.n(v),f=function(e){var t=e.title,a=e.subtitle,n=e.className,c=Object(g.a)(e,["title","subtitle","className"]),s=b()(n,"text-center","text-md-left","mb-sm-0");return l.a.createElement(E.e,Object.assign({xs:"12",sm:"4",className:s},c),l.a.createElement("span",{className:"text-uppercase page-subtitle"},a),l.a.createElement("h3",{className:"page-title"},t))},y=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onVerseError=function(){},e.onScheduleError=function(){},e.handleVerseSubmit=function(t){var a={scheduleUrl:e.state.versePreview,isSchedule:0};fetch("https://bpmcyouth.herokuapp.com/updateSchedule",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(function(t){if(t.status>=200&&t.status<300)return e.setState({openBVTM:!1}),window.location.reload(!1),t;alert("Somthing happened wrong")}),t.preventDefault()},e.handleScheduleSubmit=function(t){var a={scheduleUrl:e.state.schedulePreview,isSchedule:1};fetch("https://bpmcyouth.herokuapp.com/updateSchedule",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(function(t){if(t.status>=200&&t.status<300)return e.setState({openSchedule:!1}),window.location.reload(!1),t;alert("Somthing happened wrong")}),t.preventDefault()},e.state={schedules:[],openBVTM:!1,openSchedule:!1,versePreview:"",schedulePreview:""},e.toggleBVTM=e.toggleBVTM.bind(Object(h.a)(Object(h.a)(e))),e.toggleSchedule=e.toggleSchedule.bind(Object(h.a)(Object(h.a)(e))),e.verseLinkChange=e.verseLinkChange.bind(Object(h.a)(Object(h.a)(e))),e.scheduleLinkChange=e.scheduleLinkChange.bind(Object(h.a)(Object(h.a)(e))),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"toggleBVTM",value:function(){this.setState({openBVTM:!this.state.openBVTM,versePreview:""})}},{key:"toggleSchedule",value:function(){this.setState({openSchedule:!this.state.openSchedule})}},{key:"populateImgs",value:function(){var e=this;fetch("https://bpmcyouth.herokuapp.com/listAllSchedules").then(function(e){return e.json()}).then(function(t){return e.setState({schedules:t})}).catch(function(e){console.log(e)})}},{key:"verseLinkChange",value:function(e){this.setState({versePreview:e.target.value})}},{key:"scheduleLinkChange",value:function(e){this.setState({schedulePreview:e.target.value})}},{key:"componentDidMount",value:function(){this.populateImgs()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=void 0!=this.state.schedules.filter(function(e){return 0==e.isSchedule})[0]?l.a.createElement("img",{style:{float:"left",width:700},src:this.state.schedules.filter(function(e){return 0==e.isSchedule})[0].scheduleUrl}):l.a.createElement(p.BeatLoader,null),t=void 0!=this.state.schedules.filter(function(e){return 1==e.isSchedule})[0]?l.a.createElement("img",{style:{float:"left",width:700},src:this.state.schedules.filter(function(e){return 1==e.isSchedule})[0].scheduleUrl}):l.a.createElement(p.BeatLoader,null);console.log("State Schedules:",this.state.schedules),console.log("Schedule:",t);var a=this.state.openBVTM,n=this.state.openSchedule;return l.a.createElement(E.f,{fluid:!0,className:"main-content-container px-4"},l.a.createElement(E.m,{noGutters:!0,className:"page-header py-4"},l.a.createElement(f,{sm:"4",title:"Schedules",subtitle:"Schedule and Verse Of the Month",className:"text-sm-left"})),l.a.createElement(E.m,null,l.a.createElement(E.e,null,l.a.createElement(E.b,{small:!0,className:"mb-4"},l.a.createElement(E.d,{className:"border-bottom"},l.a.createElement("h6",{className:"m-0"},"Bible Verse of the Month")),l.a.createElement(E.c,{className:"p-0 pb-3"},l.a.createElement("div",{style:{display:"inline-block",alignContent:"center",width:"100%",height:"100%",margin:10,marginLeft:15}},e,l.a.createElement("div",{style:{textAlign:"center",verticalAlign:"middle"}},l.a.createElement(E.a,{theme:"primary",size:"lg",onClick:this.toggleBVTM},"Edit"))))))),l.a.createElement(E.m,null,l.a.createElement(E.e,null,l.a.createElement(E.b,{small:!0,className:"mb-4"},l.a.createElement(E.d,{className:"border-bottom"},l.a.createElement("h6",{className:"m-0"},"This Month's Schedule")),l.a.createElement(E.c,{className:"p-0 pb-3"},l.a.createElement("div",{style:{display:"inline-block",alignContent:"center",width:"100%",height:"100%",margin:10,marginLeft:15}},t,l.a.createElement("div",{style:{textAlign:"center",verticalAlign:"middle"}},l.a.createElement(E.a,{theme:"primary",size:"lg",onClick:this.toggleSchedule},"Edit"))))))),l.a.createElement(E.j,{size:"lg",open:a,toggle:this.toggleBVTM},l.a.createElement(E.l,null,"Edit The Bible Verse of the Month"),l.a.createElement(E.k,null,l.a.createElement(E.b,{small:!0,className:"mb-3"},l.a.createElement(E.c,null,l.a.createElement(E.g,{className:"add-new-post",onSubmit:this.handleVerseSubmit},l.a.createElement("h6",{className:"m-0",style:{paddingBottom:10}},"Bible Verse Image Link"),l.a.createElement(E.i,{size:"lg",className:"mb-3",placeholder:"Bible Verse Image Link",onChange:this.verseLinkChange}),l.a.createElement("h6",{className:"m-0",style:{paddingBottom:10}},"Image Preview"),l.a.createElement("img",{src:this.state.versePreview,style:{width:700,paddingBottom:10},onError:this.onVerseError}),l.a.createElement(E.a,{block:!0,type:"submit"},"Change")))))),l.a.createElement(E.j,{size:"lg",open:n,toggle:this.toggleSchedule},l.a.createElement(E.l,null,"Edit This Month's Schedule"),l.a.createElement(E.k,null,l.a.createElement(E.b,{small:!0,className:"mb-3"},l.a.createElement(E.c,null,l.a.createElement(E.g,{className:"add-new-post",onSubmit:this.handleScheduleSubmit},l.a.createElement("h6",{className:"m-0",style:{paddingBottom:10}},"This Month's Schedule Link"),l.a.createElement(E.i,{size:"lg",className:"mb-3",placeholder:"This Month's Schedule Link",onChange:this.scheduleLinkChange}),l.a.createElement("h6",{className:"m-0",style:{paddingBottom:10}},"Image Preview"),l.a.createElement("img",{src:this.state.schedulePreview,style:{width:700,paddingBottom:10},onError:this.onScheduleError}),l.a.createElement(E.a,{block:!0,type:"submit"},"Change")))))))}}]),t}(l.a.Component),D=a(80),S=a(404),k=a(402),C=a(141),w=a.n(C),N=(a(386),a(390),a(392),a(394),a(22)),O=a.n(N),I=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).addButtonClick=function(e){a.setState({addOpen:!a.state.addOpen})},a.editButtonClick=function(e){var t=e.currentTarget.parentNode.parentNode.getAttribute("data-rowid");console.log(t),a.setState({editOpen:!a.state.editOpen}),null!==t&&fetch("https://bpmcyouth.herokuapp.com/getAnEvent?IDs=".concat(t)).then(function(e){return e.json()}).then(function(e){return a.setState({editItem:e})}).catch(function(e){console.log(e)})},a.deleteButtonClick=function(e){var t=e.currentTarget.parentNode.parentNode.getAttribute("data-rowid");console.log(t),a.setState({deleteOpen:!a.state.deleteOpen}),null!==t&&fetch("https://bpmcyouth.herokuapp.com/getAnEvent?IDs=".concat(t)).then(function(e){return e.json()}).then(function(e){return a.setState({deleteItem:e})}).catch(function(e){console.log(e)})},a.addSendButtonClick=function(){console.log(a.state.addItem);var e=Object(D.a)({},a.state.addItem,{eventStartDatetime:a.convertJSDatetoTimestamp(a.state.addItem.eventStartDatetime),eventEndDatetime:a.convertJSDatetoTimestamp(a.state.addItem.eventEndDatetime)});fetch("https://bpmcyouth.herokuapp.com/createCalender",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){e.status>=200&&e.status<300?(window.location.reload(!1),console.log(e)):alert("Somthing happened wrong")})},a.editSendButtonClick=function(){console.log("yayys");var e=Object(D.a)({},a.state.editItem,{eventStartDatetime:a.convertJSDatetoTimestamp(a.state.editItem.eventStartDatetime),eventEndDatetime:a.convertJSDatetoTimestamp(a.state.editItem.eventEndDatetime)});console.log(e),fetch("https://bpmcyouth.herokuapp.com/updateCalender",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){e.status>=200&&e.status<300?(window.location.reload(!1),console.log(e)):alert("Somthing happened wrong")})},a.deleteSendButtonClick=function(){fetch("https://bpmcyouth.herokuapp.com/deleteCalender?IDs=".concat(a.state.deleteItem.id)).then(function(e){e.status>=200&&e.status<300?(window.location.reload(!1),console.log(e)):alert("Somthing happened wrong")}).catch(function(e){console.log(e)})},a.onEventNameChange=function(e){a.setObjectByPath(["eventName"],e.target.value),console.log(e.target.value)},a.onEventNameChangeADD=function(e){a.setObjectByPathADD(["eventName"],e.target.value),console.log(e.target.value)},a.onEventDescriptionChange=function(e){a.setObjectByPath(["eventDescription"],e.target.value)},a.onEventDescriptionChangeADD=function(e){a.setObjectByPathADD(["eventDescription"],e.target.value)},a.state={eventList:[],editOpen:!1,deleteOpen:!1,addItem:{},editItem:{},deleteItem:{},addOpen:!1,editName:""},a.editToggle=a.editToggle.bind(Object(h.a)(Object(h.a)(a))),a.deleteToggle=a.deleteToggle.bind(Object(h.a)(Object(h.a)(a))),a.applyCallback=a.applyCallback.bind(Object(h.a)(Object(h.a)(a))),a.applyCallbackADD=a.applyCallbackADD.bind(Object(h.a)(Object(h.a)(a))),a.addToggle=a.addToggle.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"populateEvents",value:function(){var e=this;fetch("https://bpmcyouth.herokuapp.com/listAllEvents").then(function(e){return e.json()}).then(function(t){return e.setState({eventList:t})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.populateEvents()}},{key:"addToggle",value:function(){this.setState({addOpen:!this.state.addOpen})}},{key:"editToggle",value:function(){this.setState({editOpen:!this.state.editOpen})}},{key:"deleteToggle",value:function(){this.setState({deleteOpen:!this.state.deleteOpen})}},{key:"applyCallback",value:function(e,t){this.setState({editItem:Object(D.a)({},this.state.editItem,{eventStartDatetime:e.format("DD/MM/yyyy HH:mm"),eventEndDatetime:t.format("DD/MM/yyyy HH:mm")})})}},{key:"applyCallbackADD",value:function(e,t){this.setState({addItem:Object(D.a)({},this.state.addItem,{eventStartDatetime:e.format("DD/MM/yyyy HH:mm"),eventEndDatetime:t.format("DD/MM/yyyy HH:mm")})})}},{key:"setObjectByPath",value:function(e,t){this.setState({editItem:S.a(k.a(e),t,this.state.editItem)})}},{key:"setObjectByPathADD",value:function(e,t){this.setState({addItem:S.a(k.a(e),t,this.state.addItem)})}},{key:"convertSQLtoJSDate",value:function(e){if(void 0!==e){console.log(e);var t=e.split(" "),a=t[0],n=t[1];return console.log("newTime",n),a=a.split("/"),n=n.split(":"),new Date(parseInt(a[2]),parseInt(a[1])-1,parseInt(a[0]),parseInt(n[0]),parseInt(n[1]))}}},{key:"convertJSDatetoTimestamp",value:function(e){if(void 0!==e){var t=e.split(" ")[0].split("/"),a=e.split(" ")[1].split(":");return"".concat(t[2],"-").concat(t[1],"-").concat(t[0],"T").concat(a[0],":").concat(a[1],":00.00+00:00")}}},{key:"render",value:function(){var e,t=this;0!==this.state.eventList.length&&(e=this.state.eventList.map(function(e){return l.a.createElement("tr",{"data-rowid":e.id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.eventName),l.a.createElement("td",null,e.eventStartDatetime),l.a.createElement("td",null,e.eventEndDatetime),l.a.createElement("td",null,e.eventDescription),l.a.createElement("td",null,l.a.createElement(E.a,{onClick:t.editButtonClick},l.a.createElement("i",{class:"material-icons"},"create")," Edit")," ",l.a.createElement(E.a,{theme:"danger",onClick:t.deleteButtonClick},l.a.createElement("i",{class:"material-icons"},"delete_outline")," Delete")))})),console.log("addItem:",this.state.addItem);var a=O()(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),0,0,0,0)),n=O()(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),0,0,0,0)),c={"Today Only":[O()(a),O()(n)],"Yesterday Only":[O()(a).subtract(1,"days"),O()(n).subtract(1,"days")],"3 Days":[O()(a).subtract(3,"days"),O()(n)]};return l.a.createElement(E.f,{fluid:!0,className:"main-content-container px-4"},l.a.createElement(E.m,{noGutters:!0,className:"page-header py-4"},l.a.createElement(f,{sm:"4",title:"Announcements",subtitle:"Blog Posts",className:"text-sm-left"})),l.a.createElement(E.m,null,l.a.createElement(E.e,null,l.a.createElement(E.b,{small:!0,className:"mb-4"},l.a.createElement(E.d,{className:"border-bottom"},l.a.createElement("h6",{className:"m-0",style:{float:"left"}},"Current Events"),l.a.createElement("div",{style:{float:"right"}},l.a.createElement(E.a,{theme:"success",onClick:this.addButtonClick},l.a.createElement("i",{class:"material-icons"},"add")," Add"))),l.a.createElement(E.c,{className:"p-0 pb-3"},l.a.createElement("table",{className:"table mb-0"},l.a.createElement("thead",{className:"bg-light"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col",className:"border-0"},"#"),l.a.createElement("th",{scope:"col",className:"border-0"},"Event Name"),l.a.createElement("th",{scope:"col",className:"border-0"},"Event Start Date and Time"),l.a.createElement("th",{scope:"col",className:"border-0"},"Event End Date and Time"),l.a.createElement("th",{scope:"col",className:"border-0"},"Event Description"))),l.a.createElement("tbody",null,e)))))),l.a.createElement("div",null,l.a.createElement(E.j,{dialog:!0,size:"lg",open:this.state.addOpen,toggle:this.addToggle},l.a.createElement(E.l,null,"Add Calender Event"),l.a.createElement(E.k,null,l.a.createElement(E.g,null,l.a.createElement(E.h,null,l.a.createElement("label",{htmlFor:"#username"},"Event Name"),l.a.createElement(E.i,{id:"#username",placeholder:"Event Name",value:this.state.addItem.eventName,onChange:this.onEventNameChangeADD})),l.a.createElement(E.h,null,l.a.createElement("label",{htmlFor:"#username"},"Event Date"),l.a.createElement(E.i,{placeholder:"Event Name",value:"".concat(this.state.addItem.eventStartDatetime," - ").concat(this.state.addItem.eventEndDatetime),disabled:!0}),l.a.createElement("br",null),l.a.createElement(w.a,{ranges:c,start:O()(this.convertSQLtoJSDate(this.state.addItem.eventStartDatetime)),end:O()(this.convertSQLtoJSDate(this.state.addItem.eventEndDatetime)),local:{format:"DD-MM-YYYY HH:mm",sundayFirst:!1},applyCallback:this.applyCallbackADD,standalone:!0,style:{fromDate:{backgroundColor:"rgb(13,129,255)"},toDate:{backgroundColor:"rgb(13,129,255)"},standaloneLayout:{display:"flex",maxWidth:"fit-content"}}}),l.a.createElement("h8",null,"* click apply to save the date & time")),l.a.createElement(E.h,null,l.a.createElement("label",{htmlFor:"#password"},"Event Description"),l.a.createElement(E.i,{id:"#password",placeholder:"Event Description",value:this.state.editItem.eventDescription,onChange:this.onEventDescriptionChangeADD})),l.a.createElement(E.a,{style:{width:"100%",backgroundColor:"#17c671",borderColor:"#17c671"},onClick:this.addSendButtonClick}," Save Changes "))))),l.a.createElement("div",null,l.a.createElement(E.j,{dialog:!0,size:"lg",open:this.state.editOpen,toggle:this.editToggle},l.a.createElement(E.l,null,"Edit Calender Event"),l.a.createElement(E.k,null,l.a.createElement(E.g,null,l.a.createElement(E.h,null,l.a.createElement("label",{htmlFor:"#username"},"Event Name"),l.a.createElement(E.i,{id:"#username",placeholder:"Event Name",value:this.state.editItem.eventName,onChange:this.onEventNameChange})),l.a.createElement(E.h,null,l.a.createElement("label",{htmlFor:"#username"},"Event Date"),l.a.createElement(E.i,{placeholder:"Event Name",value:"".concat(this.state.editItem.eventStartDatetime," - ").concat(this.state.editItem.eventEndDatetime),disabled:!0}),l.a.createElement("br",null),l.a.createElement(w.a,{ranges:c,start:O()(Date.now()),end:O()(Date.now()),local:{format:"DD-MM-YYYY HH:mm",sundayFirst:!1},applyCallback:this.applyCallback,standalone:!0,style:{fromDate:{backgroundColor:"rgb(13,129,255)"},toDate:{backgroundColor:"rgb(13,129,255)"},standaloneLayout:{display:"flex",maxWidth:"fit-content"}}}),l.a.createElement("h8",null,"* click apply to save the date & time")),l.a.createElement(E.h,null,l.a.createElement("label",{htmlFor:"#password"},"Event Description"),l.a.createElement(E.i,{id:"#password",placeholder:"Event Description",value:this.state.editItem.eventDescription,onChange:this.onEventDescriptionChange})),l.a.createElement(E.a,{style:{width:"100%",backgroundColor:"#17c671",borderColor:"#17c671"},onClick:this.editSendButtonClick}," Save Changes "))))),l.a.createElement("div",null,l.a.createElement(E.j,{dialog:!0,size:"lg",open:this.state.deleteOpen,toggle:this.deleteToggle},l.a.createElement(E.l,null,"Permanently Delete - ",this.state.deleteItem.eventName),l.a.createElement(E.k,null,l.a.createElement("h5",null,"You are about to delete ",l.a.createElement("b",null,this.state.deleteItem.eventName)," with the following details:"),l.a.createElement(E.g,null,l.a.createElement(E.h,null,l.a.createElement("label",{htmlFor:"#username"},"Event Name"),l.a.createElement(E.i,{disabled:!0,value:this.state.deleteItem.eventName})),l.a.createElement(E.h,null,l.a.createElement("label",{htmlFor:"#username"},"Event Start Date"),l.a.createElement(E.i,{disabled:!0,value:this.state.deleteItem.eventStartDatetime})),l.a.createElement(E.h,null,l.a.createElement("label",{htmlFor:"#username"},"Event End Date"),l.a.createElement(E.i,{disabled:!0,value:this.state.deleteItem.eventEndDatetime})),l.a.createElement(E.h,null,l.a.createElement("label",{htmlFor:"#password"},"Event Description"),l.a.createElement(E.i,{disabled:!0,value:this.state.deleteItem.eventDescription})),l.a.createElement(E.a,{style:{width:"100%",backgroundColor:"#e60b2f",borderColor:"#e60b2f"},onClick:this.deleteSendButtonClick}," Delete Item "))))))}}]),t}(l.a.Component),j=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(o.a,{exact:!0,path:"/",render:function(e){return l.a.createElement(y,null)}}),l.a.createElement(o.a,{exact:!0,path:"/schedules",render:function(e){return l.a.createElement(y,null)}}),l.a.createElement(o.a,{exact:!0,path:"/announcements",render:function(e){return l.a.createElement(I,null)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(o.a,{basename:"/AdministratorWebsite"},l.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[188,2,1]]]);
//# sourceMappingURL=main.f8f25458.chunk.js.map